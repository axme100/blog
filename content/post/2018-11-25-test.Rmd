---
title: Making an interactive choropleth map in Map Box GL JS
author: Max Carey
date: '2019-04-08'
slug: test
categories: []
tags: [data viz, fullstack, totago, mapbox, mapbox GL JS, chart.js, flask, sqlalchemy, python, udacity]
description: ''
topics: []
---

In this post, I'm going to descibe a full-stack, data viz web application I built from scratch which allows you to visualize usage data of the <a href="https://www.totago.com" target=blank>Totago</a>, an online program for helping people to access hiking trails via public transportation.

The app is an interactive choropleth map in which each map area is colored according to the number of users who have generated Totago iteneraries (from that map area). When users click on a map area (postal codes or barrio/neighborhoods), a bar graph is generated showing the how many users went to each destination; the destinations are also represented by red circles whose radiai are automatically resized according to the same counts.

> You can find the live version of the application <a href="https://nameless-sierra-49126.herokuapp.com/map/" target=blank>here</a>

The application, hosted on Heroku, uses Python and Flask for the backend server code and connects to a remote Postgres database using SQL Alchemy. The front end retrieves data via AJAX calls and uses said data to render the map features (powered by Map Box GL JS) and a a bar graph (chart.js). You can find all the source code in the link above.

> The code is located at: <a href="https://github.com/turnofftheapp/mapProj" target=blank>this GitHub repository</a>

In this blog post, I want to share some reflections, lessons learned, and best-practices.

# 1. Mentorship and planning ahead

I was fortunate to have technical mentorship throughout the development process. One of the things I learned during my certificate program in web-dev was the importance of planning and not diving right in to the coding. Before implementing a particular solution, I found it useful to go over my plan with Totago from a high-level perspective. In general, I learned that thinking through the entire development process from the get-go will save you a ton of time in the long run. For example, in the beggining, I had't thought all the way through to deploymnet, and since the application was going to be hosted on Heroku, I had to switch from an SQLite database to Postgres database when the applicaiton was already quite mature; this required some surgery.

# 2. Udacity is a great starting point for learners
1. My history with Udacity, link to my certificate.
2. What I learned from Udacity.
3. How this project was the next step as a full-stack developer (connecting the front end to the backend).

# 3. Spending time pimping your coding environment saves time in the long run
1. Sublime Text Bracket Plugin (show a gif of this in action)
2. Terminal Shortcuts
3. Please feel free to mention anything else you have in the comments

# 4. Stack Overflow is God!
This project has taught me a lot about the value in being good at copying-and-pasting from Stack Overflow. Really though, I don't think of it as control-Cing and control-Ving your homework because it really does take some skill to know (a) how to phrase your question correctly on Google, (b) how to sift through the different posts and answers within stack overflow, and (c) how to make fine-tune or coarse adjustments to the code you find on the forums. For example, I knew I needed to find a way to create GeoJSON circles for each Totago destination in my project, to do this I googled something like


2. It feels great to be an active particpant in the community, using upvotes and staring (even though I didn't really ask questions)

# 5. Use Your Browser's Debugger instead of inserting a bunch of print statements
- Talk about how for the majority of the project, I just inserted a bunch of print statements.

# 6. Postgres is better than SQL lite.
Talk about the experience I had when I had to change this.

# 7. Dev ops is an entire word
- Talk about how I used, talk about the database setup that I used for my project, put that one stackoverflow post in.

# 8. Use lots of functions
Talk about the weekend I spent refactoring my code because I hadn't used a lot of functions. April 3-5

# 9 MapBox and geoJSON are awesome!

# 10. It's important to have Grit!
- This should be the very 

# 11. A Software project never ends.
When I started learning how to code, a past mentor of mine, David, told me how the coding experiene really never ends.